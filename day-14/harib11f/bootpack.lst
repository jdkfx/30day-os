     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_init_gdtidt
     7 00000000                                 	EXTERN	_init_pic
     8 00000000                                 	EXTERN	_io_sti
     9 00000000                                 	EXTERN	_fifo32_init
    10 00000000                                 	EXTERN	_init_pit
    11 00000000                                 	EXTERN	_init_keyboard
    12 00000000                                 	EXTERN	_enable_mouse
    13 00000000                                 	EXTERN	_io_out8
    14 00000000                                 	EXTERN	_timer_alloc
    15 00000000                                 	EXTERN	_timer_init
    16 00000000                                 	EXTERN	_timer_settime
    17 00000000                                 	EXTERN	_memtest
    18 00000000                                 	EXTERN	_memman_init
    19 00000000                                 	EXTERN	_memman_free
    20 00000000                                 	EXTERN	_init_palette
    21 00000000                                 	EXTERN	_shtctl_init
    22 00000000                                 	EXTERN	_sheet_alloc
    23 00000000                                 	EXTERN	_memman_alloc_4k
    24 00000000                                 	EXTERN	_sheet_setbuf
    25 00000000                                 	EXTERN	_init_screen8
    26 00000000                                 	EXTERN	_init_mouse_cursor8
    27 00000000                                 	EXTERN	_sheet_slide
    28 00000000                                 	EXTERN	_sheet_updown
    29 00000000                                 	EXTERN	_sprintf
    30 00000000                                 	EXTERN	_memman_total
    31 00000000                                 	EXTERN	_io_cli
    32 00000000                                 	EXTERN	_fifo32_status
    33 00000000                                 	EXTERN	_fifo32_get
    34 00000000                                 	EXTERN	_boxfill8
    35 00000000                                 	EXTERN	_sheet_refresh
    36 00000000                                 	EXTERN	_mouse_decode
    37 00000000                                 	EXTERN	_io_stihlt
    38 00000000                                 	EXTERN	_putfonts8_asc
    39 00000000                                 [FILE "bootpack.c"]
    40                                          [SECTION .data]
    41 00000000                                 LC0:
    42 00000000 77 69 6E 64 6F 77 00            	DB	"window",0x00
    43 00000007                                 LC1:
    44 00000007 28 25 33 64 2C 20 25 33 64 29   	DB	"(%3d, %3d)",0x00
       00000011 00 
    45 00000012                                 LC2:
    46 00000012 6D 65 6D 6F 72 79 20 25 64 4D   	DB	"memory %dMB   free : %dKB",0x00
       0000001C 42 20 20 20 66 72 65 65 20 3A 
       00000026 20 25 64 4B 42 00 
    47 0000002C                                 LC7:
    48 0000002C 33 5B 73 65 63 5D 00            	DB	"3[sec]",0x00
    49 00000033                                 LC6:
    50 00000033 31 30 5B 73 65 63 5D 00         	DB	"10[sec]",0x00
    51 0000003B                                 LC5:
    52 0000003B 5B 6C 63 72 20 25 34 64 20 25   	DB	"[lcr %4d %4d]",0x00
       00000045 34 64 5D 00 
    53 00000049                                 LC3:
    54 00000049 25 30 32 58 00                  	DB	"%02X",0x00
    55 0000004E                                 LC4:
    56 0000004E 41 00                           	DB	"A",0x00
    57                                          [SECTION .text]
    58 00000000                                 	GLOBAL	_HariMain
    59 00000000                                 _HariMain:
    60 00000000 55                              	PUSH	EBP
    61 00000001 89 E5                           	MOV	EBP,ESP
    62 00000003 57                              	PUSH	EDI
    63 00000004 56                              	PUSH	ESI
    64 00000005 53                              	PUSH	EBX
    65 00000006 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
    66 00000009 81 EC 00000384                  	SUB	ESP,900
    67 0000000F E8 [00000000]                   	CALL	_init_gdtidt
    68 00000014 E8 [00000000]                   	CALL	_init_pic
    69 00000019 E8 [00000000]                   	CALL	_io_sti
    70 0000001E 8D 85 FFFFFDA4                  	LEA	EAX,DWORD [-604+EBP]
    71 00000024 50                              	PUSH	EAX
    72 00000025 68 00000080                     	PUSH	128
    73 0000002A 53                              	PUSH	EBX
    74 0000002B E8 [00000000]                   	CALL	_fifo32_init
    75 00000030 E8 [00000000]                   	CALL	_init_pit
    76 00000035 68 00000100                     	PUSH	256
    77 0000003A 53                              	PUSH	EBX
    78 0000003B E8 [00000000]                   	CALL	_init_keyboard
    79 00000040 8D 85 FFFFFD94                  	LEA	EAX,DWORD [-620+EBP]
    80 00000046 50                              	PUSH	EAX
    81 00000047 68 00000200                     	PUSH	512
    82 0000004C 53                              	PUSH	EBX
    83 0000004D E8 [00000000]                   	CALL	_enable_mouse
    84 00000052 83 C4 20                        	ADD	ESP,32
    85 00000055 68 000000F8                     	PUSH	248
    86 0000005A 6A 21                           	PUSH	33
    87 0000005C E8 [00000000]                   	CALL	_io_out8
    88 00000061 68 000000EF                     	PUSH	239
    89 00000066 68 000000A1                     	PUSH	161
    90 0000006B E8 [00000000]                   	CALL	_io_out8
    91 00000070 6A 01                           	PUSH	1
    92 00000072 53                              	PUSH	EBX
    93 00000073 E8 000006F6                     	CALL	_set490
    94 00000078 E8 [00000000]                   	CALL	_timer_alloc
    95 0000007D 6A 0A                           	PUSH	10
    96 0000007F 53                              	PUSH	EBX
    97 00000080 89 C6                           	MOV	ESI,EAX
    98 00000082 50                              	PUSH	EAX
    99 00000083 E8 [00000000]                   	CALL	_timer_init
   100 00000088 83 C4 24                        	ADD	ESP,36
   101 0000008B 68 000003E8                     	PUSH	1000
   102 00000090 56                              	PUSH	ESI
   103 00000091 E8 [00000000]                   	CALL	_timer_settime
   104 00000096 E8 [00000000]                   	CALL	_timer_alloc
   105 0000009B 6A 03                           	PUSH	3
   106 0000009D 53                              	PUSH	EBX
   107 0000009E 89 C6                           	MOV	ESI,EAX
   108 000000A0 50                              	PUSH	EAX
   109 000000A1 E8 [00000000]                   	CALL	_timer_init
   110 000000A6 68 0000012C                     	PUSH	300
   111 000000AB 56                              	PUSH	ESI
   112 000000AC E8 [00000000]                   	CALL	_timer_settime
   113 000000B1 E8 [00000000]                   	CALL	_timer_alloc
   114 000000B6 6A 01                           	PUSH	1
   115 000000B8 53                              	PUSH	EBX
   116 000000B9 50                              	PUSH	EAX
   117 000000BA 89 85 FFFFFC90                  	MOV	DWORD [-880+EBP],EAX
   118 000000C0 E8 [00000000]                   	CALL	_timer_init
   119 000000C5 83 C4 28                        	ADD	ESP,40
   120 000000C8 6A 32                           	PUSH	50
   121 000000CA FF B5 FFFFFC90                  	PUSH	DWORD [-880+EBP]
   122 000000D0 E8 [00000000]                   	CALL	_timer_settime
   123 000000D5 68 BFFFFFFF                     	PUSH	-1073741825
   124 000000DA 68 00400000                     	PUSH	4194304
   125 000000DF E8 [00000000]                   	CALL	_memtest
   126 000000E4 68 003C0000                     	PUSH	3932160
   127 000000E9 89 85 FFFFFC88                  	MOV	DWORD [-888+EBP],EAX
   128 000000EF E8 [00000000]                   	CALL	_memman_init
   129 000000F4 68 0009E000                     	PUSH	647168
   130 000000F9 68 00001000                     	PUSH	4096
   131 000000FE 68 003C0000                     	PUSH	3932160
   132 00000103 E8 [00000000]                   	CALL	_memman_free
   133 00000108 8B 85 FFFFFC88                  	MOV	EAX,DWORD [-888+EBP]
   134 0000010E 83 C4 20                        	ADD	ESP,32
   135 00000111 2D 00400000                     	SUB	EAX,4194304
   136 00000116 50                              	PUSH	EAX
   137 00000117 68 00400000                     	PUSH	4194304
   138 0000011C 68 003C0000                     	PUSH	3932160
   139 00000121 E8 [00000000]                   	CALL	_memman_free
   140 00000126 E8 [00000000]                   	CALL	_init_palette
   141 0000012B 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   142 00000132 50                              	PUSH	EAX
   143 00000133 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   144 0000013A 50                              	PUSH	EAX
   145 0000013B FF 35 00000FF8                  	PUSH	DWORD [4088]
   146 00000141 68 003C0000                     	PUSH	3932160
   147 00000146 E8 [00000000]                   	CALL	_shtctl_init
   148 0000014B 89 C3                           	MOV	EBX,EAX
   149 0000014D 50                              	PUSH	EAX
   150 0000014E E8 [00000000]                   	CALL	_sheet_alloc
   151 00000153 83 C4 20                        	ADD	ESP,32
   152 00000156 53                              	PUSH	EBX
   153 00000157 89 85 FFFFFC84                  	MOV	DWORD [-892+EBP],EAX
   154 0000015D E8 [00000000]                   	CALL	_sheet_alloc
   155 00000162 53                              	PUSH	EBX
   156 00000163 8D 9D FFFFFC94                  	LEA	EBX,DWORD [-876+EBP]
   157 00000169 89 85 FFFFFC80                  	MOV	DWORD [-896+EBP],EAX
   158 0000016F E8 [00000000]                   	CALL	_sheet_alloc
   159 00000174 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
   160 0000017B 89 85 FFFFFC7C                  	MOV	DWORD [-900+EBP],EAX
   161 00000181 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   162 00000188 0F AF C2                        	IMUL	EAX,EDX
   163 0000018B 50                              	PUSH	EAX
   164 0000018C 68 003C0000                     	PUSH	3932160
   165 00000191 E8 [00000000]                   	CALL	_memman_alloc_4k
   166 00000196 68 00002080                     	PUSH	8320
   167 0000019B 68 003C0000                     	PUSH	3932160
   168 000001A0 89 85 FFFFFC78                  	MOV	DWORD [-904+EBP],EAX
   169 000001A6 E8 [00000000]                   	CALL	_memman_alloc_4k
   170 000001AB 6A FF                           	PUSH	-1
   171 000001AD 89 C6                           	MOV	ESI,EAX
   172 000001AF 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   173 000001B6 50                              	PUSH	EAX
   174 000001B7 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   175 000001BE 50                              	PUSH	EAX
   176 000001BF FF B5 FFFFFC78                  	PUSH	DWORD [-904+EBP]
   177 000001C5 FF B5 FFFFFC84                  	PUSH	DWORD [-892+EBP]
   178 000001CB E8 [00000000]                   	CALL	_sheet_setbuf
   179 000001D0 83 C4 2C                        	ADD	ESP,44
   180 000001D3 6A 63                           	PUSH	99
   181 000001D5 6A 10                           	PUSH	16
   182 000001D7 6A 10                           	PUSH	16
   183 000001D9 53                              	PUSH	EBX
   184 000001DA FF B5 FFFFFC80                  	PUSH	DWORD [-896+EBP]
   185 000001E0 E8 [00000000]                   	CALL	_sheet_setbuf
   186 000001E5 6A FF                           	PUSH	-1
   187 000001E7 6A 34                           	PUSH	52
   188 000001E9 68 000000A0                     	PUSH	160
   189 000001EE 56                              	PUSH	ESI
   190 000001EF FF B5 FFFFFC7C                  	PUSH	DWORD [-900+EBP]
   191 000001F5 E8 [00000000]                   	CALL	_sheet_setbuf
   192 000001FA 83 C4 28                        	ADD	ESP,40
   193 000001FD 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   194 00000204 50                              	PUSH	EAX
   195 00000205 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   196 0000020C 50                              	PUSH	EAX
   197 0000020D FF B5 FFFFFC78                  	PUSH	DWORD [-904+EBP]
   198 00000213 E8 [00000000]                   	CALL	_init_screen8
   199 00000218 6A 63                           	PUSH	99
   200 0000021A 53                              	PUSH	EBX
   201 0000021B BB 00000002                     	MOV	EBX,2
   202 00000220 E8 [00000000]                   	CALL	_init_mouse_cursor8
   203 00000225 68 [00000000]                   	PUSH	LC0
   204 0000022A 6A 34                           	PUSH	52
   205 0000022C 68 000000A0                     	PUSH	160
   206 00000231 56                              	PUSH	ESI
   207 00000232 E8 00000344                     	CALL	_make_window8
   208 00000237 83 C4 24                        	ADD	ESP,36
   209 0000023A 6A 00                           	PUSH	0
   210 0000023C 6A 00                           	PUSH	0
   211 0000023E FF B5 FFFFFC84                  	PUSH	DWORD [-892+EBP]
   212 00000244 E8 [00000000]                   	CALL	_sheet_slide
   213 00000249 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   214 00000250 8D 48 F0                        	LEA	ECX,DWORD [-16+EAX]
   215 00000253 89 C8                           	MOV	EAX,ECX
   216 00000255 99                              	CDQ
   217 00000256 F7 FB                           	IDIV	EBX
   218 00000258 89 85 FFFFFC8C                  	MOV	DWORD [-884+EBP],EAX
   219 0000025E 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   220 00000265 8D 48 D4                        	LEA	ECX,DWORD [-44+EAX]
   221 00000268 89 C8                           	MOV	EAX,ECX
   222 0000026A 99                              	CDQ
   223 0000026B F7 FB                           	IDIV	EBX
   224 0000026D 50                              	PUSH	EAX
   225 0000026E 89 C7                           	MOV	EDI,EAX
   226 00000270 FF B5 FFFFFC8C                  	PUSH	DWORD [-884+EBP]
   227 00000276 FF B5 FFFFFC80                  	PUSH	DWORD [-896+EBP]
   228 0000027C 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   229 0000027F E8 [00000000]                   	CALL	_sheet_slide
   230 00000284 6A 48                           	PUSH	72
   231 00000286 6A 50                           	PUSH	80
   232 00000288 FF B5 FFFFFC7C                  	PUSH	DWORD [-900+EBP]
   233 0000028E E8 [00000000]                   	CALL	_sheet_slide
   234 00000293 83 C4 24                        	ADD	ESP,36
   235 00000296 6A 00                           	PUSH	0
   236 00000298 FF B5 FFFFFC84                  	PUSH	DWORD [-892+EBP]
   237 0000029E E8 [00000000]                   	CALL	_sheet_updown
   238 000002A3 6A 01                           	PUSH	1
   239 000002A5 FF B5 FFFFFC7C                  	PUSH	DWORD [-900+EBP]
   240 000002AB E8 [00000000]                   	CALL	_sheet_updown
   241 000002B0 6A 02                           	PUSH	2
   242 000002B2 FF B5 FFFFFC80                  	PUSH	DWORD [-896+EBP]
   243 000002B8 E8 [00000000]                   	CALL	_sheet_updown
   244 000002BD 57                              	PUSH	EDI
   245 000002BE FF B5 FFFFFC8C                  	PUSH	DWORD [-884+EBP]
   246 000002C4 68 [00000007]                   	PUSH	LC1
   247 000002C9 53                              	PUSH	EBX
   248 000002CA E8 [00000000]                   	CALL	_sprintf
   249 000002CF 83 C4 28                        	ADD	ESP,40
   250 000002D2 6A 0A                           	PUSH	10
   251 000002D4 53                              	PUSH	EBX
   252 000002D5 6A 0E                           	PUSH	14
   253 000002D7 6A 07                           	PUSH	7
   254 000002D9 6A 00                           	PUSH	0
   255 000002DB 6A 00                           	PUSH	0
   256 000002DD FF B5 FFFFFC84                  	PUSH	DWORD [-892+EBP]
   257 000002E3 E8 000003FF                     	CALL	_putfonts8_asc_sht
   258 000002E8 68 003C0000                     	PUSH	3932160
   259 000002ED E8 [00000000]                   	CALL	_memman_total
   260 000002F2 C1 AD FFFFFC88 14               	SHR	DWORD [-888+EBP],20
   261 000002F9 C1 E8 0A                        	SHR	EAX,10
   262 000002FC 89 04 24                        	MOV	DWORD [ESP],EAX
   263 000002FF FF B5 FFFFFC88                  	PUSH	DWORD [-888+EBP]
   264 00000305 68 [00000012]                   	PUSH	LC2
   265 0000030A 53                              	PUSH	EBX
   266 0000030B E8 [00000000]                   	CALL	_sprintf
   267 00000310 83 C4 2C                        	ADD	ESP,44
   268 00000313 6A 28                           	PUSH	40
   269 00000315 53                              	PUSH	EBX
   270 00000316 6A 0E                           	PUSH	14
   271 00000318 6A 07                           	PUSH	7
   272 0000031A 6A 20                           	PUSH	32
   273 0000031C                                 L30:
   274 0000031C 6A 00                           	PUSH	0
   275 0000031E FF B5 FFFFFC84                  	PUSH	DWORD [-892+EBP]
   276 00000324                                 L28:
   277 00000324 E8 000003BE                     	CALL	_putfonts8_asc_sht
   278 00000329                                 L27:
   279 00000329 83 C4 1C                        	ADD	ESP,28
   280 0000032C                                 L2:
   281 0000032C 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
   282 0000032F E8 [00000000]                   	CALL	_io_cli
   283 00000334 53                              	PUSH	EBX
   284 00000335 E8 [00000000]                   	CALL	_fifo32_status
   285 0000033A 59                              	POP	ECX
   286 0000033B 85 C0                           	TEST	EAX,EAX
   287 0000033D 0F 84 0000022E                  	JE	L31
   288 00000343 53                              	PUSH	EBX
   289 00000344 E8 [00000000]                   	CALL	_fifo32_get
   290 00000349 89 C6                           	MOV	ESI,EAX
   291 0000034B E8 [00000000]                   	CALL	_io_sti
   292 00000350 5A                              	POP	EDX
   293 00000351 8D 86 FFFFFF00                  	LEA	EAX,DWORD [-256+ESI]
   294 00000357 3D 000000FF                     	CMP	EAX,255
   295 0000035C 0F 86 000001C1                  	JBE	L32
   296 00000362 8D 86 FFFFFE00                  	LEA	EAX,DWORD [-512+ESI]
   297 00000368 3D 000000FF                     	CMP	EAX,255
   298 0000036D 0F 86 000000A8                  	JBE	L33
   299 00000373 83 FE 0A                        	CMP	ESI,10
   300 00000376 0F 84 0000008D                  	JE	L34
   301 0000037C 83 FE 03                        	CMP	ESI,3
   302 0000037F 74 76                           	JE	L35
   303 00000381 83 FE 01                        	CMP	ESI,1
   304 00000384 74 57                           	JE	L36
   305 00000386 85 F6                           	TEST	ESI,ESI
   306 00000388 75 A2                           	JNE	L2
   307 0000038A 6A 01                           	PUSH	1
   308 0000038C 53                              	PUSH	EBX
   309 0000038D FF B5 FFFFFC90                  	PUSH	DWORD [-880+EBP]
   310 00000393 E8 [00000000]                   	CALL	_timer_init
   311 00000398 6A 6F                           	PUSH	111
   312 0000039A 6A 0F                           	PUSH	15
   313 0000039C 6A 60                           	PUSH	96
   314 0000039E 6A 08                           	PUSH	8
   315 000003A0 6A 0E                           	PUSH	14
   316 000003A2                                 L29:
   317 000003A2 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   318 000003A9 50                              	PUSH	EAX
   319 000003AA FF B5 FFFFFC78                  	PUSH	DWORD [-904+EBP]
   320 000003B0 E8 [00000000]                   	CALL	_boxfill8
   321 000003B5 83 C4 28                        	ADD	ESP,40
   322 000003B8 6A 32                           	PUSH	50
   323 000003BA FF B5 FFFFFC90                  	PUSH	DWORD [-880+EBP]
   324 000003C0 E8 [00000000]                   	CALL	_timer_settime
   325 000003C5 6A 70                           	PUSH	112
   326 000003C7 6A 10                           	PUSH	16
   327 000003C9 6A 60                           	PUSH	96
   328 000003CB 6A 08                           	PUSH	8
   329 000003CD FF B5 FFFFFC84                  	PUSH	DWORD [-892+EBP]
   330 000003D3 E8 [00000000]                   	CALL	_sheet_refresh
   331 000003D8 E9 FFFFFF4C                     	JMP	L27
   332 000003DD                                 L36:
   333 000003DD 6A 00                           	PUSH	0
   334 000003DF 53                              	PUSH	EBX
   335 000003E0 FF B5 FFFFFC90                  	PUSH	DWORD [-880+EBP]
   336 000003E6 E8 [00000000]                   	CALL	_timer_init
   337 000003EB 6A 6F                           	PUSH	111
   338 000003ED 6A 0F                           	PUSH	15
   339 000003EF 6A 60                           	PUSH	96
   340 000003F1 6A 08                           	PUSH	8
   341 000003F3 6A 07                           	PUSH	7
   342 000003F5 EB AB                           	JMP	L29
   343 000003F7                                 L35:
   344 000003F7 6A 06                           	PUSH	6
   345 000003F9 68 [0000002C]                   	PUSH	LC7
   346 000003FE 6A 0E                           	PUSH	14
   347 00000400 6A 07                           	PUSH	7
   348 00000402 6A 50                           	PUSH	80
   349 00000404 E9 FFFFFF13                     	JMP	L30
   350 00000409                                 L34:
   351 00000409 6A 07                           	PUSH	7
   352 0000040B 68 [00000033]                   	PUSH	LC6
   353 00000410 6A 0E                           	PUSH	14
   354 00000412 6A 07                           	PUSH	7
   355 00000414 6A 40                           	PUSH	64
   356 00000416 E9 FFFFFF01                     	JMP	L30
   357 0000041B                                 L33:
   358 0000041B 89 F3                           	MOV	EBX,ESI
   359 0000041D 0F B6 C3                        	MOVZX	EAX,BL
   360 00000420 50                              	PUSH	EAX
   361 00000421 8D 85 FFFFFD94                  	LEA	EAX,DWORD [-620+EBP]
   362 00000427 50                              	PUSH	EAX
   363 00000428 E8 [00000000]                   	CALL	_mouse_decode
   364 0000042D 5A                              	POP	EDX
   365 0000042E 59                              	POP	ECX
   366 0000042F 85 C0                           	TEST	EAX,EAX
   367 00000431 0F 84 FFFFFEF5                  	JE	L2
   368 00000437 FF B5 FFFFFD9C                  	PUSH	DWORD [-612+EBP]
   369 0000043D FF B5 FFFFFD98                  	PUSH	DWORD [-616+EBP]
   370 00000443 68 [0000003B]                   	PUSH	LC5
   371 00000448 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   372 0000044B 53                              	PUSH	EBX
   373 0000044C E8 [00000000]                   	CALL	_sprintf
   374 00000451 83 C4 10                        	ADD	ESP,16
   375 00000454 8B 85 FFFFFDA0                  	MOV	EAX,DWORD [-608+EBP]
   376 0000045A A9 00000001                     	TEST	EAX,1
   377 0000045F 74 04                           	JE	L12
   378 00000461 C6 45 A5 4C                     	MOV	BYTE [-91+EBP],76
   379 00000465                                 L12:
   380 00000465 A9 00000002                     	TEST	EAX,2
   381 0000046A 74 04                           	JE	L13
   382 0000046C C6 45 A7 52                     	MOV	BYTE [-89+EBP],82
   383 00000470                                 L13:
   384 00000470 83 E0 04                        	AND	EAX,4
   385 00000473 74 04                           	JE	L14
   386 00000475 C6 45 A6 43                     	MOV	BYTE [-90+EBP],67
   387 00000479                                 L14:
   388 00000479 6A 0F                           	PUSH	15
   389 0000047B 53                              	PUSH	EBX
   390 0000047C 6A 0E                           	PUSH	14
   391 0000047E 6A 07                           	PUSH	7
   392 00000480 6A 10                           	PUSH	16
   393 00000482 6A 20                           	PUSH	32
   394 00000484 FF B5 FFFFFC84                  	PUSH	DWORD [-892+EBP]
   395 0000048A E8 00000258                     	CALL	_putfonts8_asc_sht
   396 0000048F 8B 85 FFFFFD98                  	MOV	EAX,DWORD [-616+EBP]
   397 00000495 03 BD FFFFFD9C                  	ADD	EDI,DWORD [-612+EBP]
   398 0000049B 83 C4 1C                        	ADD	ESP,28
   399 0000049E 01 85 FFFFFC8C                  	ADD	DWORD [-884+EBP],EAX
   400 000004A4 78 71                           	JS	L37
   401 000004A6                                 L15:
   402 000004A6 85 FF                           	TEST	EDI,EDI
   403 000004A8 78 69                           	JS	L38
   404 000004AA                                 L16:
   405 000004AA 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   406 000004B1 48                              	DEC	EAX
   407 000004B2 39 85 FFFFFC8C                  	CMP	DWORD [-884+EBP],EAX
   408 000004B8 7E 06                           	JLE	L17
   409 000004BA 89 85 FFFFFC8C                  	MOV	DWORD [-884+EBP],EAX
   410 000004C0                                 L17:
   411 000004C0 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   412 000004C7 48                              	DEC	EAX
   413 000004C8 39 C7                           	CMP	EDI,EAX
   414 000004CA 7E 02                           	JLE	L18
   415 000004CC 89 C7                           	MOV	EDI,EAX
   416 000004CE                                 L18:
   417 000004CE 57                              	PUSH	EDI
   418 000004CF FF B5 FFFFFC8C                  	PUSH	DWORD [-884+EBP]
   419 000004D5 68 [00000007]                   	PUSH	LC1
   420 000004DA 53                              	PUSH	EBX
   421 000004DB E8 [00000000]                   	CALL	_sprintf
   422 000004E0 6A 0A                           	PUSH	10
   423 000004E2 53                              	PUSH	EBX
   424 000004E3 6A 0E                           	PUSH	14
   425 000004E5 6A 07                           	PUSH	7
   426 000004E7 6A 00                           	PUSH	0
   427 000004E9 6A 00                           	PUSH	0
   428 000004EB FF B5 FFFFFC84                  	PUSH	DWORD [-892+EBP]
   429 000004F1 E8 000001F1                     	CALL	_putfonts8_asc_sht
   430 000004F6 83 C4 2C                        	ADD	ESP,44
   431 000004F9 57                              	PUSH	EDI
   432 000004FA FF B5 FFFFFC8C                  	PUSH	DWORD [-884+EBP]
   433 00000500 FF B5 FFFFFC80                  	PUSH	DWORD [-896+EBP]
   434 00000506 E8 [00000000]                   	CALL	_sheet_slide
   435 0000050B 83 C4 0C                        	ADD	ESP,12
   436 0000050E E9 FFFFFE19                     	JMP	L2
   437 00000513                                 L38:
   438 00000513 31 FF                           	XOR	EDI,EDI
   439 00000515 EB 93                           	JMP	L16
   440 00000517                                 L37:
   441 00000517 C7 85 FFFFFC8C 00000000         	MOV	DWORD [-884+EBP],0
   442 00000521 EB 83                           	JMP	L15
   443 00000523                                 L32:
   444 00000523 50                              	PUSH	EAX
   445 00000524 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   446 00000527 68 [00000049]                   	PUSH	LC3
   447 0000052C 53                              	PUSH	EBX
   448 0000052D E8 [00000000]                   	CALL	_sprintf
   449 00000532 6A 02                           	PUSH	2
   450 00000534 53                              	PUSH	EBX
   451 00000535 6A 0E                           	PUSH	14
   452 00000537 6A 07                           	PUSH	7
   453 00000539 6A 10                           	PUSH	16
   454 0000053B 6A 00                           	PUSH	0
   455 0000053D FF B5 FFFFFC84                  	PUSH	DWORD [-892+EBP]
   456 00000543 E8 0000019F                     	CALL	_putfonts8_asc_sht
   457 00000548 83 C4 28                        	ADD	ESP,40
   458 0000054B 81 FE 0000011E                  	CMP	ESI,286
   459 00000551 0F 85 FFFFFDD5                  	JNE	L2
   460 00000557 6A 01                           	PUSH	1
   461 00000559 68 [0000004E]                   	PUSH	LC4
   462 0000055E 6A 08                           	PUSH	8
   463 00000560 6A 00                           	PUSH	0
   464 00000562 6A 1C                           	PUSH	28
   465 00000564 6A 28                           	PUSH	40
   466 00000566 FF B5 FFFFFC7C                  	PUSH	DWORD [-900+EBP]
   467 0000056C E9 FFFFFDB3                     	JMP	L28
   468 00000571                                 L31:
   469 00000571 E8 [00000000]                   	CALL	_io_stihlt
   470 00000576 E9 FFFFFDB1                     	JMP	L2
   471                                          [SECTION .data]
   472 00000050                                 _closebtn.0:
   473 00000050 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOOO@"
       0000005A 4F 4F 4F 4F 4F 40 
   474 00000060 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       0000006A 51 51 51 51 24 40 
   475 00000070 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       0000007A 51 51 51 51 24 40 
   476 00000080 4F 51 51 51 40 40 51 51 51 51   	DB	"OQQQ@@QQQQ@@QQ$@"
       0000008A 40 40 51 51 24 40 
   477 00000090 4F 51 51 51 51 40 40 51 51 40   	DB	"OQQQQ@@QQ@@QQQ$@"
       0000009A 40 51 51 51 24 40 
   478 000000A0 4F 51 51 51 51 51 40 40 40 40   	DB	"OQQQQQ@@@@QQQQ$@"
       000000AA 51 51 51 51 24 40 
   479 000000B0 4F 51 51 51 51 51 51 40 40 51   	DB	"OQQQQQQ@@QQQQQ$@"
       000000BA 51 51 51 51 24 40 
   480 000000C0 4F 51 51 51 51 51 40 40 40 40   	DB	"OQQQQQ@@@@QQQQ$@"
       000000CA 51 51 51 51 24 40 
   481 000000D0 4F 51 51 51 51 40 40 51 51 40   	DB	"OQQQQ@@QQ@@QQQ$@"
       000000DA 40 51 51 51 24 40 
   482 000000E0 4F 51 51 51 40 40 51 51 51 51   	DB	"OQQQ@@QQQQ@@QQ$@"
       000000EA 40 40 51 51 24 40 
   483 000000F0 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       000000FA 51 51 51 51 24 40 
   484 00000100 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       0000010A 51 51 51 51 24 40 
   485 00000110 4F 24 24 24 24 24 24 24 24 24   	DB	"O$$$$$$$$$$$$$$@"
       0000011A 24 24 24 24 24 40 
   486 00000120 40 40 40 40 40 40 40 40 40 40   	DB	"@@@@@@@@@@@@@@@@"
       0000012A 40 40 40 40 40 40 
   487                                          [SECTION .text]
   488 0000057B                                 	GLOBAL	_make_window8
   489 0000057B                                 _make_window8:
   490 0000057B 55                              	PUSH	EBP
   491 0000057C 89 E5                           	MOV	EBP,ESP
   492 0000057E 57                              	PUSH	EDI
   493 0000057F 56                              	PUSH	ESI
   494 00000580 53                              	PUSH	EBX
   495 00000581 83 EC 14                        	SUB	ESP,20
   496 00000584 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   497 00000587 6A 00                           	PUSH	0
   498 00000589 8D 43 FF                        	LEA	EAX,DWORD [-1+EBX]
   499 0000058C 8D 7B FE                        	LEA	EDI,DWORD [-2+EBX]
   500 0000058F 50                              	PUSH	EAX
   501 00000590 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   502 00000593 6A 00                           	PUSH	0
   503 00000595 6A 00                           	PUSH	0
   504 00000597 6A 08                           	PUSH	8
   505 00000599 53                              	PUSH	EBX
   506 0000059A FF 75 08                        	PUSH	DWORD [8+EBP]
   507 0000059D E8 [00000000]                   	CALL	_boxfill8
   508 000005A2 6A 01                           	PUSH	1
   509 000005A4 57                              	PUSH	EDI
   510 000005A5 6A 01                           	PUSH	1
   511 000005A7 6A 01                           	PUSH	1
   512 000005A9 6A 07                           	PUSH	7
   513 000005AB 53                              	PUSH	EBX
   514 000005AC FF 75 08                        	PUSH	DWORD [8+EBP]
   515 000005AF E8 [00000000]                   	CALL	_boxfill8
   516 000005B4 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   517 000005B7 83 C4 38                        	ADD	ESP,56
   518 000005BA 4A                              	DEC	EDX
   519 000005BB 89 55 E8                        	MOV	DWORD [-24+EBP],EDX
   520 000005BE 52                              	PUSH	EDX
   521 000005BF 6A 00                           	PUSH	0
   522 000005C1 6A 00                           	PUSH	0
   523 000005C3 6A 00                           	PUSH	0
   524 000005C5 6A 08                           	PUSH	8
   525 000005C7 53                              	PUSH	EBX
   526 000005C8 FF 75 08                        	PUSH	DWORD [8+EBP]
   527 000005CB E8 [00000000]                   	CALL	_boxfill8
   528 000005D0 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   529 000005D3 83 EE 02                        	SUB	ESI,2
   530 000005D6 56                              	PUSH	ESI
   531 000005D7 6A 01                           	PUSH	1
   532 000005D9 6A 01                           	PUSH	1
   533 000005DB 6A 01                           	PUSH	1
   534 000005DD 6A 07                           	PUSH	7
   535 000005DF 53                              	PUSH	EBX
   536 000005E0 FF 75 08                        	PUSH	DWORD [8+EBP]
   537 000005E3 E8 [00000000]                   	CALL	_boxfill8
   538 000005E8 83 C4 38                        	ADD	ESP,56
   539 000005EB 56                              	PUSH	ESI
   540 000005EC 57                              	PUSH	EDI
   541 000005ED 6A 01                           	PUSH	1
   542 000005EF 57                              	PUSH	EDI
   543 000005F0 6A 0F                           	PUSH	15
   544 000005F2 53                              	PUSH	EBX
   545 000005F3 FF 75 08                        	PUSH	DWORD [8+EBP]
   546 000005F6 E8 [00000000]                   	CALL	_boxfill8
   547 000005FB FF 75 E8                        	PUSH	DWORD [-24+EBP]
   548 000005FE FF 75 EC                        	PUSH	DWORD [-20+EBP]
   549 00000601 6A 00                           	PUSH	0
   550 00000603 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   551 00000606 6A 00                           	PUSH	0
   552 00000608 53                              	PUSH	EBX
   553 00000609 FF 75 08                        	PUSH	DWORD [8+EBP]
   554 0000060C E8 [00000000]                   	CALL	_boxfill8
   555 00000611 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   556 00000614 83 C4 38                        	ADD	ESP,56
   557 00000617 83 E8 03                        	SUB	EAX,3
   558 0000061A 50                              	PUSH	EAX
   559 0000061B 8D 43 FD                        	LEA	EAX,DWORD [-3+EBX]
   560 0000061E 50                              	PUSH	EAX
   561 0000061F 6A 02                           	PUSH	2
   562 00000621 6A 02                           	PUSH	2
   563 00000623 6A 08                           	PUSH	8
   564 00000625 53                              	PUSH	EBX
   565 00000626 FF 75 08                        	PUSH	DWORD [8+EBP]
   566 00000629 E8 [00000000]                   	CALL	_boxfill8
   567 0000062E 8D 43 FC                        	LEA	EAX,DWORD [-4+EBX]
   568 00000631 6A 14                           	PUSH	20
   569 00000633 50                              	PUSH	EAX
   570 00000634 6A 03                           	PUSH	3
   571 00000636 6A 03                           	PUSH	3
   572 00000638 6A 0C                           	PUSH	12
   573 0000063A 53                              	PUSH	EBX
   574 0000063B FF 75 08                        	PUSH	DWORD [8+EBP]
   575 0000063E E8 [00000000]                   	CALL	_boxfill8
   576 00000643 83 C4 38                        	ADD	ESP,56
   577 00000646 56                              	PUSH	ESI
   578 00000647 57                              	PUSH	EDI
   579 00000648 56                              	PUSH	ESI
   580 00000649 6A 01                           	PUSH	1
   581 0000064B 6A 0F                           	PUSH	15
   582 0000064D 53                              	PUSH	EBX
   583 0000064E FF 75 08                        	PUSH	DWORD [8+EBP]
   584 00000651 E8 [00000000]                   	CALL	_boxfill8
   585 00000656 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   586 00000659 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   587 0000065C FF 75 E8                        	PUSH	DWORD [-24+EBP]
   588 0000065F 6A 00                           	PUSH	0
   589 00000661 6A 00                           	PUSH	0
   590 00000663 6B F3 05                        	IMUL	ESI,EBX,5
   591 00000666 53                              	PUSH	EBX
   592 00000667 FF 75 08                        	PUSH	DWORD [8+EBP]
   593 0000066A E8 [00000000]                   	CALL	_boxfill8
   594 0000066F 83 C4 38                        	ADD	ESP,56
   595 00000672 FF 75 14                        	PUSH	DWORD [20+EBP]
   596 00000675 6A 07                           	PUSH	7
   597 00000677 6A 04                           	PUSH	4
   598 00000679 6A 18                           	PUSH	24
   599 0000067B 53                              	PUSH	EBX
   600 0000067C FF 75 08                        	PUSH	DWORD [8+EBP]
   601 0000067F E8 [00000000]                   	CALL	_putfonts8_asc
   602 00000684 83 C4 18                        	ADD	ESP,24
   603 00000687 C7 45 F0 00000000               	MOV	DWORD [-16+EBP],0
   604 0000068E C7 45 E0 00000000               	MOV	DWORD [-32+EBP],0
   605 00000695                                 L55:
   606 00000695 8D 04 1E                        	LEA	EAX,DWORD [ESI+EBX*1]
   607 00000698 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   608 0000069B 31 FF                           	XOR	EDI,EDI
   609 0000069D 8D 4C 02 EB                     	LEA	ECX,DWORD [-21+EDX+EAX*1]
   610 000006A1                                 L54:
   611 000006A1 8B 45 E0                        	MOV	EAX,DWORD [-32+EBP]
   612 000006A4 8A 94 07 [00000050]             	MOV	DL,BYTE [_closebtn.0+EDI+EAX*1]
   613 000006AB 80 FA 40                        	CMP	DL,64
   614 000006AE 74 33                           	JE	L60
   615 000006B0 80 FA 24                        	CMP	DL,36
   616 000006B3 74 2A                           	JE	L61
   617 000006B5 80 FA 51                        	CMP	DL,81
   618 000006B8 B2 08                           	MOV	DL,8
   619 000006BA 0F 95 C0                        	SETNE	AL
   620 000006BD 28 C2                           	SUB	DL,AL
   621 000006BF                                 L49:
   622 000006BF 47                              	INC	EDI
   623 000006C0 88 11                           	MOV	BYTE [ECX],DL
   624 000006C2 41                              	INC	ECX
   625 000006C3 83 FF 0F                        	CMP	EDI,15
   626 000006C6 7E D9                           	JLE	L54
   627 000006C8 FF 45 F0                        	INC	DWORD [-16+EBP]
   628 000006CB 01 DE                           	ADD	ESI,EBX
   629 000006CD 83 45 E0 10                     	ADD	DWORD [-32+EBP],16
   630 000006D1 83 7D F0 0D                     	CMP	DWORD [-16+EBP],13
   631 000006D5 7E BE                           	JLE	L55
   632 000006D7 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   633 000006DA 5B                              	POP	EBX
   634 000006DB 5E                              	POP	ESI
   635 000006DC 5F                              	POP	EDI
   636 000006DD 5D                              	POP	EBP
   637 000006DE C3                              	RET
   638 000006DF                                 L61:
   639 000006DF B2 0F                           	MOV	DL,15
   640 000006E1 EB DC                           	JMP	L49
   641 000006E3                                 L60:
   642 000006E3 31 D2                           	XOR	EDX,EDX
   643 000006E5 EB D8                           	JMP	L49
   644 000006E7                                 	GLOBAL	_putfonts8_asc_sht
   645 000006E7                                 _putfonts8_asc_sht:
   646 000006E7 55                              	PUSH	EBP
   647 000006E8 89 E5                           	MOV	EBP,ESP
   648 000006EA 57                              	PUSH	EDI
   649 000006EB 56                              	PUSH	ESI
   650 000006EC 53                              	PUSH	EBX
   651 000006ED 83 EC 0C                        	SUB	ESP,12
   652 000006F0 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   653 000006F3 8B 7D 10                        	MOV	EDI,DWORD [16+EBP]
   654 000006F6 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   655 000006F9 8B 5D 14                        	MOV	EBX,DWORD [20+EBP]
   656 000006FC 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   657 000006FF 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   658 00000702 8B 45 1C                        	MOV	EAX,DWORD [28+EBP]
   659 00000705 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   660 00000708 8D 47 0F                        	LEA	EAX,DWORD [15+EDI]
   661 0000070B 50                              	PUSH	EAX
   662 0000070C 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   663 0000070F 8B 75 20                        	MOV	ESI,DWORD [32+EBP]
   664 00000712 0F BE DB                        	MOVSX	EBX,BL
   665 00000715 8D 34 F0                        	LEA	ESI,DWORD [EAX+ESI*8]
   666 00000718 8D 46 FF                        	LEA	EAX,DWORD [-1+ESI]
   667 0000071B 50                              	PUSH	EAX
   668 0000071C 57                              	PUSH	EDI
   669 0000071D FF 75 EC                        	PUSH	DWORD [-20+EBP]
   670 00000720 0F B6 45 18                     	MOVZX	EAX,BYTE [24+EBP]
   671 00000724 50                              	PUSH	EAX
   672 00000725 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   673 00000728 FF 70 04                        	PUSH	DWORD [4+EAX]
   674 0000072B FF 30                           	PUSH	DWORD [EAX]
   675 0000072D E8 [00000000]                   	CALL	_boxfill8
   676 00000732 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   677 00000735 53                              	PUSH	EBX
   678 00000736 57                              	PUSH	EDI
   679 00000737 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   680 0000073A 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   681 0000073D FF 70 04                        	PUSH	DWORD [4+EAX]
   682 00000740 FF 30                           	PUSH	DWORD [EAX]
   683 00000742 E8 [00000000]                   	CALL	_putfonts8_asc
   684 00000747 89 7D 10                        	MOV	DWORD [16+EBP],EDI
   685 0000074A 8D 47 10                        	LEA	EAX,DWORD [16+EDI]
   686 0000074D 89 75 14                        	MOV	DWORD [20+EBP],ESI
   687 00000750 89 45 18                        	MOV	DWORD [24+EBP],EAX
   688 00000753 83 C4 34                        	ADD	ESP,52
   689 00000756 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   690 00000759 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   691 0000075C 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   692 0000075F 89 45 08                        	MOV	DWORD [8+EBP],EAX
   693 00000762 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   694 00000765 5B                              	POP	EBX
   695 00000766 5E                              	POP	ESI
   696 00000767 5F                              	POP	EDI
   697 00000768 5D                              	POP	EBP
   698 00000769 E9 [00000000]                   	JMP	_sheet_refresh
   699 0000076E                                 	GLOBAL	_set490
   700 0000076E                                 _set490:
   701 0000076E 55                              	PUSH	EBP
   702 0000076F 89 E5                           	MOV	EBP,ESP
   703 00000771 57                              	PUSH	EDI
   704 00000772 56                              	PUSH	ESI
   705 00000773 53                              	PUSH	EBX
   706 00000774 83 7D 0C 00                     	CMP	DWORD [12+EBP],0
   707 00000778 74 34                           	JE	L63
   708 0000077A 31 F6                           	XOR	ESI,ESI
   709 0000077C BF 19BFCC00                     	MOV	EDI,432000000
   710 00000781                                 L69:
   711 00000781 E8 [00000000]                   	CALL	_timer_alloc
   712 00000786 89 C3                           	MOV	EBX,EAX
   713 00000788 8D 86 00000400                  	LEA	EAX,DWORD [1024+ESI]
   714 0000078E 50                              	PUSH	EAX
   715 0000078F 46                              	INC	ESI
   716 00000790 FF 75 08                        	PUSH	DWORD [8+EBP]
   717 00000793 53                              	PUSH	EBX
   718 00000794 E8 [00000000]                   	CALL	_timer_init
   719 00000799 57                              	PUSH	EDI
   720 0000079A 53                              	PUSH	EBX
   721 0000079B 83 C7 64                        	ADD	EDI,100
   722 0000079E E8 [00000000]                   	CALL	_timer_settime
   723 000007A3 83 C4 14                        	ADD	ESP,20
   724 000007A6 81 FE 000001E9                  	CMP	ESI,489
   725 000007AC 7E D3                           	JLE	L69
   726 000007AE                                 L63:
   727 000007AE 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   728 000007B1 5B                              	POP	EBX
   729 000007B2 5E                              	POP	ESI
   730 000007B3 5F                              	POP	EDI
   731 000007B4 5D                              	POP	EBP
   732 000007B5 C3                              	RET
